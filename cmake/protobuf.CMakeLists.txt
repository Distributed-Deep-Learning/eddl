cmake_minimum_required(VERSION 3.9.2)

project(protobuf-download NONE)

include(ExternalProject)
ExternalProject_Add(protobuf
        GIT_REPOSITORY https://github.com/google/protobuf
        GIT_TAG "v3.11.4"
        CMAKE_CACHE_ARGS
            -Dprotobuf_BUILD_TESTS:BOOL=OFF
            -Dprotobuf_WITH_ZLIB:BOOL=OFF
            -Dprotobuf_MSVC_STATIC_RUNTIME:BOOL=OFF
            -DCMAKE_INSTALL_PREFIX:PATH=${CMAKE_CURRENT_BINARY_DIR}/protobuf
        )
